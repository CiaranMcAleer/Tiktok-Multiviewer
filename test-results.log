
> tiktok-multiviewer@0.20.0 test
> jest

● Validation Warning:

  Unknown option "moduleNameMapping" with value {"^@/app/(.*)$": "<rootDir>/app/$1", "^@/components/(.*)$": "<rootDir>/components/$1", "^@/hooks/(.*)$": "<rootDir>/hooks/$1", "^@/lib/(.*)$": "<rootDir>/lib/$1"} was found.
  This is probably a typing mistake. Fixing it will remove this message.

  Configuration Documentation:
  https://jestjs.io/docs/configuration

● Validation Warning:

  Unknown option "moduleNameMapping" with value {"^@/app/(.*)$": "<rootDir>/app/$1", "^@/components/(.*)$": "<rootDir>/components/$1", "^@/hooks/(.*)$": "<rootDir>/hooks/$1", "^@/lib/(.*)$": "<rootDir>/lib/$1"} was found.
  This is probably a typing mistake. Fixing it will remove this message.

  Configuration Documentation:
  https://jestjs.io/docs/configuration

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: Error: API Error
        at Object.<anonymous> (/workspaces/Tiktok-Multiviewer/__tests__/components/world-time-widget.test.tsx:121:52)
        at Promise.finally.completed (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-runner@30.0.0/node_modules/jest-runner/build/index.js:272:16)
        at runTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-runner@30.0.0/node_modules/jest-runner/build/index.js:340:7)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.warn
    API fetch failed, using browser fallback: Error: API Error
        at Object.<anonymous> (/workspaces/Tiktok-Multiviewer/__tests__/components/world-time-widget.test.tsx:121:52)
        at Promise.finally.completed (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-runner@30.0.0/node_modules/jest-runner/build/index.js:272:16)
        at runTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-runner@30.0.0/node_modules/jest-runner/build/index.js:340:7)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.warn
    Failed to fetch timezones from API: Error: API Error
        at Object.<anonymous> (/workspaces/Tiktok-Multiviewer/__tests__/components/world-time-widget.test.tsx:131:52)
        at Promise.finally.completed (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-runner@30.0.0/node_modules/jest-runner/build/index.js:272:16)
        at runTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-runner@30.0.0/node_modules/jest-runner/build/index.js:340:7)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.warn
    API fetch failed, using browser fallback: Error: API Error
        at Object.<anonymous> (/workspaces/Tiktok-Multiviewer/__tests__/components/world-time-widget.test.tsx:131:52)
        at Promise.finally.completed (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-circus@30.0.0/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-runner@30.0.0/node_modules/jest-runner/build/index.js:272:16)
        at runTest (/workspaces/Tiktok-Multiviewer/node_modules/.pnpm/jest-runner@30.0.0/node_modules/jest-runner/build/index.js:340:7)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

  console.warn
    Failed to fetch timezones from API: SyntaxError: "undefined" is not valid JSON
        at JSON.parse (<anonymous>)
        at parse (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:142:34)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      149 |         }
      150 |       } catch (error) {
    > 151 |         console.warn("Failed to fetch timezones from API:", error)
          |                 ^
      152 |       }
      153 |
      154 |       // Use fallback timezones if API fails

      at warn (app/components/world-time-widget.tsx:151:17)

  console.log
    Using fallback timezone list

      at log (app/components/world-time-widget.tsx:155:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setAvailableTimezones (app/components/world-time-widget.tsx:156:7)

  console.warn
    API fetch failed, using browser fallback: Error: No data received from proxy
        at fetchTimeData (/workspaces/Tiktok-Multiviewer/app/components/world-time-widget.tsx:206:15)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:545:9)
        at processTimers (node:internal/timers:519:7)

      221 |       console.log(`Time synced for ${timezone}${isResync ? " (resync)" : ""}`)
      222 |     } catch (error) {
    > 223 |       console.warn("API fetch failed, using browser fallback:", error)
          |               ^
      224 |
      225 |       if (!isResync) {
      226 |         setError("Using browser timezone")

      at warn (app/components/world-time-widget.tsx:223:15)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setError (app/components/world-time-widget.tsx:226:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setUseApiFallback (app/components/world-time-widget.tsx:227:9)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setTimeData (app/components/world-time-widget.tsx:248:11)

  console.error
    An update to WorldTimeWidget inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

      148 |       return
      149 |     }
    > 150 |     originalError.call(console, ...args)
          |                   ^
      151 |   }
      152 | })
      153 |

      at console.call [as error] (jest.setup.js:150:19)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16023:19
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16022:9)
      at scheduleUpdateOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14396:11)
      at dispatchSetStateInternal (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6969:13)
      at dispatchSetState (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:6927:7)
      at setLoading (app/components/world-time-widget.tsx:255:22)

FAIL __tests__/components/world-time-widget.test.tsx (5.631 s)
  WorldTimeWidget
    ✓ renders world time widget with correct title (226 ms)
    ✓ renders current city name (40 ms)
    ✕ calls onRemove when remove button is clicked (201 ms)
    ✕ fetches time data on mount (1027 ms)
    ✕ displays fetched time (1030 ms)
    ✕ shows loading state initially (130 ms)
    ✕ opens timezone selector when city button is clicked (183 ms)
    ✕ filters timezones when searching (224 ms)
    ✕ calls onCityChange when new timezone is selected (159 ms)
    ✕ handles API error gracefully (1029 ms)
    ✓ falls back to browser time when API fails (81 ms)
    ✓ renders with dark theme correctly (64 ms)
    ✓ renders with light theme correctly (69 ms)
    ✕ shows clock icon in header (93 ms)
    ✓ updates time periodically (49 ms)
    ✕ shows different cities in dropdown (126 ms)
    ✕ formats timezone names correctly (166 ms)

  ● WorldTimeWidget › calls onRemove when remove button is clicked

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/remove/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      combobox:

      Name "":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r2»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mrole[39m=[32m"combobox"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«r2»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-center"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-loader-circle h-8 w-8 animate-spin"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      50 |     render(<WorldTimeWidget {...defaultProps} />)
      51 |     
    > 52 |     const removeButton = screen.getByRole('button', { name: /remove/i })
         |                                 ^
      53 |     await user.click(removeButton)
      54 |     
      55 |     expect(mockOnRemove).toHaveBeenCalled()

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/world-time-widget.test.tsx:52:33)

  ● WorldTimeWidget › fetches time data on mount

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: StringContaining "worldtimeapi.org"
    Received
           1: "https://api.allorigins.win/get?url=https%3A%2F%2Fworldtimeapi.org%2Fapi%2Ftimezone", {"headers": {"Accept": "application/json"}, "method": "GET", "signal": {}}
           2: "https://api.allorigins.win/get?url=https%3A%2F%2Fworldtimeapi.org%2Fapi%2Ftimezone%2FEurope%2FLondon", {"headers": {"Accept": "application/json"}, "method": "GET", "signal": {}}

    Number of calls: 2

    Ignored nodes: comments, script, style
    [36m<html>[39m
      [36m<head />[39m
      [36m<body>[39m
        [36m<div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<circle[39m
                    [33mcx[39m=[32m"12"[39m
                    [33mcy[39m=[32m"12"[39m
                    [33mr[39m=[32m"10"[39m
                  [36m/>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                  [36m/>[39m
                [36m</svg>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
                [36m>[39m
                  [0mLondon Time[0m
                [36m</span>[39m
                [36m<span[39m
                  [33mclass[39m=[32m"text-xs text-yellow-500"[39m
                  [33mtitle[39m=[32m"Using browser timezone"[39m
                [36m>[39m
                  [0m(Browser)[0m
                [36m</span>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"mb-4"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-controls[39m=[32m"radix-«r3»"[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"dialog"[39m
                    [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mrole[39m=[32m"combobox"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<div[39m
                      [33mclass[39m=[32m"flex items-center gap-2"[39m
                    [36m>[39m
                      [36m<svg[39m
                        [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                        [33mfill[39m=[32m"none"[39m
                        [33mheight[39m=[32m"24"[39m
                        [33mstroke[39m=[32m"currentColor"[39m
                        [33mstroke-linecap[39m=[32m"round"[39m
                        [33mstroke-linejoin[39m=[32m"round"[39m
                        [33mstroke-width[39m=[32m"2"[39m
                        [33mviewBox[39m=[32m"0 0 24 24"[39m
                        [33mwidth[39m=[32m"24"[39m
                        [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                      [36m>[39m
                        [36m<path[39m
                          [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                        [36m/>[39m
                        [36m<circle[39m
                          [33mcx[39m=[32m"12"[39m
                          [33mcy[39m=[32m"10"[39m
                          [33mr[39m=[32m"3"[39m
                        [36m/>[39m
                      [36m</svg>[39m
                      [36m<span[39m
                        [33mclass[39m=[32m"truncate"[39m
                      [36m>[39m
                        [0mLondon[0m
                      [36m</span>[39m
                    [36m</div>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"11"[39m
                        [33mcy[39m=[32m"11"[39m
                        [33mr[39m=[32m"8"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"m21 21-4.3-4.3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-center"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-4xl font-mono font-bold mb-2 text-gray-900"[39m
                  [36m>[39m
                    [0m10:15:43[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-lg mb-1 text-gray-600"[39m
                  [36m>[39m
                    [0mWed, 18 Jun 2025[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-sm mb-1 text-gray-500"[39m
                  [36m>[39m
                    [0mEurope/London[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-gray-400"[39m
                  [36m>[39m
                    [0mGMT+1[0m
                    [0m • UTC[0m
                    [0m+00:59[0m
                    [0m • Browser timezone[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</body>[39m
    [36m</html>[39m

      60 |     
      61 |     await waitFor(() => {
    > 62 |       expect(global.fetch).toHaveBeenCalledWith(
         |                            ^
      63 |         expect.stringContaining('worldtimeapi.org')
      64 |       )
      65 |     })

      at toHaveBeenCalledWith (__tests__/components/world-time-widget.test.tsx:62:28)
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/.pnpm/jsdom@26.1.0/node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)

  ● WorldTimeWidget › displays fetched time

    Unable to find an element with the text: /12:00/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xs text-yellow-500"[39m
                [33mtitle[39m=[32m"Using browser timezone"[39m
              [36m>[39m
                [0m(Browser)[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«r4»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-4xl font-mono font-bold mb-2 text-gray-900"[39m
                [36m>[39m
                  [0m10:15:44[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-lg mb-1 text-gray-600"[39m
                [36m>[39m
                  [0mWed, 18 Jun 2025[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm mb-1 text-gray-500"[39m
                [36m>[39m
                  [0mEurope/London[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-xs text-gray-400"[39m
                [36m>[39m
                  [0mGMT+1[0m
                  [0m • UTC[0m
                  [0m+00:59[0m
                  [0m • Browser timezone[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      69 |     render(<WorldTimeWidget {...defaultProps} />)
      70 |     
    > 71 |     await waitFor(() => {
         |                  ^
      72 |       expect(screen.getByText(/12:00/)).toBeInTheDocument()
      73 |     })
      74 |   })

      at waitForWrapper (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/world-time-widget.test.tsx:71:18)

  ● WorldTimeWidget › shows loading state initially

    TestingLibraryElementError: Unable to find an element by: [data-testid="loading-spinner"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«r5»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-center"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-loader-circle h-8 w-8 animate-spin"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      77 |     render(<WorldTimeWidget {...defaultProps} />)
      78 |     
    > 79 |     expect(screen.getByTestId('loading-spinner') || screen.getByText(/loading/i)).toBeInTheDocument()
         |                   ^
      80 |   })
      81 |
      82 |   it('opens timezone selector when city button is clicked', async () => {

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (__tests__/components/world-time-widget.test.tsx:79:19)

  ● WorldTimeWidget › opens timezone selector when city button is clicked

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/london/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      combobox:

      Name "":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r6»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mrole[39m=[32m"combobox"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«r6»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-center"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-loader-circle h-8 w-8 animate-spin"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      84 |     render(<WorldTimeWidget {...defaultProps} />)
      85 |     
    > 86 |     const cityButton = screen.getByRole('button', { name: /london/i })
         |                               ^
      87 |     await user.click(cityButton)
      88 |     
      89 |     expect(screen.getByPlaceholderText(/search timezones/i)).toBeInTheDocument()

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/world-time-widget.test.tsx:86:31)

  ● WorldTimeWidget › filters timezones when searching

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/london/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      combobox:

      Name "":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r7»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mrole[39m=[32m"combobox"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«r7»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-center"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-loader-circle h-8 w-8 animate-spin"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      94 |     render(<WorldTimeWidget {...defaultProps} />)
      95 |     
    > 96 |     const cityButton = screen.getByRole('button', { name: /london/i })
         |                               ^
      97 |     await user.click(cityButton)
      98 |     
      99 |     const searchInput = screen.getByPlaceholderText(/search timezones/i)

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/world-time-widget.test.tsx:96:31)

  ● WorldTimeWidget › calls onCityChange when new timezone is selected

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/london/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      combobox:

      Name "":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r8»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mrole[39m=[32m"combobox"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«r8»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-center"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-loader-circle h-8 w-8 animate-spin"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      109 |     render(<WorldTimeWidget {...defaultProps} />)
      110 |     
    > 111 |     const cityButton = screen.getByRole('button', { name: /london/i })
          |                               ^
      112 |     await user.click(cityButton)
      113 |     
      114 |     const newYorkOption = screen.getByText(/New_York/)

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/world-time-widget.test.tsx:111:31)

  ● WorldTimeWidget › handles API error gracefully

    Found multiple elements with the text: /(Browser)/

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<span[39m
      [33mclass[39m=[32m"text-xs text-yellow-500"[39m
      [33mtitle[39m=[32m"Using browser timezone"[39m
    [36m>[39m
      [0m(Browser)[0m
    [36m</span>[39m

    Ignored nodes: comments, script, style
    [36m<div[39m
      [33mclass[39m=[32m"text-xs text-gray-400"[39m
    [36m>[39m
      [0mGMT+1[0m
      [0m • UTC[0m
      [0m+00:59[0m
      [0m • Browser timezone[0m
    [36m</div>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
              [36m<span[39m
                [33mclass[39m=[32m"text-xs text-yellow-500"[39m
                [33mtitle[39m=[32m"Using browser timezone"[39m
              [36m>[39m
                [0m(Browser)[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«r9»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-4xl font-mono font-bold mb-2 text-gray-900"[39m
                [36m>[39m
                  [0m10:15:46[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-lg mb-1 text-gray-600"[39m
                [36m>[39m
                  [0mWed, 18 Jun 2025[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-sm mb-1 text-gray-500"[39m
                [36m>[39m
                  [0mEurope/London[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-xs text-gray-400"[39m
                [36m>[39m
                  [0mGMT+1[0m
                  [0m • UTC[0m
                  [0m+00:59[0m
                  [0m • Browser timezone[0m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      123 |     render(<WorldTimeWidget {...defaultProps} />)
      124 |     
    > 125 |     await waitFor(() => {
          |                  ^
      126 |       expect(screen.getByText(/(Browser)/)).toBeInTheDocument()
      127 |     })
      128 |   })

      at waitForWrapper (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (__tests__/components/world-time-widget.test.tsx:125:18)

  ● WorldTimeWidget › shows clock icon in header

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/remove/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      combobox:

      Name "":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«rd»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mrole[39m=[32m"combobox"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«rd»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-center"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-loader-circle h-8 w-8 animate-spin"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      160 |     
      161 |     // Clock icon should be present
    > 162 |     expect(screen.getByRole('button', { name: /remove/i })).toBeInTheDocument()
          |                   ^
      163 |   })
      164 |
      165 |   it('updates time periodically', async () => {

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/world-time-widget.test.tsx:162:19)

  ● WorldTimeWidget › shows different cities in dropdown

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/london/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      combobox:

      Name "":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«rf»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mrole[39m=[32m"combobox"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«rf»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-center"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-loader-circle h-8 w-8 animate-spin"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      182 |     render(<WorldTimeWidget {...defaultProps} />)
      183 |     
    > 184 |     const cityButton = screen.getByRole('button', { name: /london/i })
          |                               ^
      185 |     await user.click(cityButton)
      186 |     
      187 |     await waitFor(() => {

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/world-time-widget.test.tsx:184:31)

  ● WorldTimeWidget › formats timezone names correctly

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/london/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      combobox:

      Name "":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«rg»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mrole[39m=[32m"combobox"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-clock h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"12"[39m
                  [33mcy[39m=[32m"12"[39m
                  [33mr[39m=[32m"10"[39m
                [36m/>[39m
                [36m<polyline[39m
                  [33mpoints[39m=[32m"12 6 12 12 16 14"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mLondon Time[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<button[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M18 6 6 18"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"m6 6 12 12"[39m
                [36m/>[39m
              [36m</svg>[39m
            [36m</button>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80 flex flex-col"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex-1 flex flex-col items-center justify-center text-center"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mb-4"[39m
              [36m>[39m
                [36m<button[39m
                  [33maria-controls[39m=[32m"radix-«rg»"[39m
                  [33maria-expanded[39m=[32m"false"[39m
                  [33maria-haspopup[39m=[32m"dialog"[39m
                  [33mclass[39m=[32m"inline-flex items-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 w-64 justify-between"[39m
                  [33mdata-state[39m=[32m"closed"[39m
                  [33mrole[39m=[32m"combobox"[39m
                  [33mtype[39m=[32m"button"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"flex items-center gap-2"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-map-pin h-3 w-3"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"[39m
                      [36m/>[39m
                      [36m<circle[39m
                        [33mcx[39m=[32m"12"[39m
                        [33mcy[39m=[32m"10"[39m
                        [33mr[39m=[32m"3"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                    [36m<span[39m
                      [33mclass[39m=[32m"truncate"[39m
                    [36m>[39m
                      [0mLondon[0m
                    [36m</span>[39m
                  [36m</div>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-search ml-2 h-4 w-4 shrink-0 opacity-50"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.3-4.3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</button>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"text-center"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center justify-center"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-loader-circle h-8 w-8 animate-spin"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M21 12a9 9 0 1 1-6.219-8.56"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      196 |     render(<WorldTimeWidget {...defaultProps} />)
      197 |     
    > 198 |     const cityButton = screen.getByRole('button', { name: /london/i })
          |                               ^
      199 |     await user.click(cityButton)
      200 |     
      201 |     await waitFor(() => {

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/world-time-widget.test.tsx:198:31)

  console.log
    DASH.js loaded

      at log (app/components/video-stream-widget.tsx:19:13)

FAIL __tests__/integration/multiviewer.test.tsx
  MultiviewerApp Integration
    Initial State
      ✓ renders main application title (114 ms)
      ✓ shows empty state when no widgets are present (53 ms)
      ✕ shows widget counter as 0/10 (43 ms)
      ✕ renders theme toggle button (298 ms)
    Widget Management
      ✕ adds YouTube widget successfully (53 ms)
      ✕ adds TikTok widget successfully (62 ms)
      ✕ adds HLS stream widget successfully (71 ms)
      ✕ removes widget successfully (49 ms)
      ✕ prevents adding more than 10 widgets (63 ms)
    Dropdown Menu Widgets
      ✕ adds world time widget from dropdown (239 ms)
      ✕ adds website widget from dropdown (202 ms)
      ✕ adds notes widget from dropdown (327 ms)
      ✓ adds map widget (123 ms)
    Layout Management
      ✕ generates shareable layout URL (62 ms)
      ✕ loads layout from URL parameter (1 ms)
      ✕ clears all widgets (64 ms)
      ✕ refreshes all widgets (59 ms)
    Theme Toggle
      ✕ toggles between light and dark theme (212 ms)
    Local Storage Persistence
      ✕ saves widgets to localStorage (49 ms)
      ✓ loads widgets from localStorage on mount (85 ms)
    Error Handling
      ✕ handles invalid URLs gracefully (79 ms)
      ✕ handles localStorage errors gracefully (70 ms)

  ● MultiviewerApp Integration › Initial State › shows widget counter as 0/10

    TestingLibraryElementError: Unable to find an element with the text: 0/10 widgets. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r1k»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      50 |       render(<MultiviewerApp />)
      51 |       
    > 52 |       expect(screen.getByText('0/10 widgets')).toBeInTheDocument()
         |                     ^
      53 |     })
      54 |
      55 |     it('renders theme toggle button', () => {

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/integration/multiviewer.test.tsx:52:21)

  ● MultiviewerApp Integration › Initial State › renders theme toggle button

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/theme/i`

    Here are the accessible roles:

      heading:

      Name "Multiviewer":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "":
      [36m<button[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"menu"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mid[39m=[32m"radix-«r2e»"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
      [36m/>[39m

      Name "Add Stream":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Add Map":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Refresh All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
      [36m/>[39m

      Name "Grid Settings":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r2g»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Share Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r2j»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Load Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r2m»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Clear All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdisabled[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      textbox:

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
        [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
        [33mplaceholder[39m=[32m"Title (optional)"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-lg"[39m
      [36m/>[39m

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-sm"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r2e»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      56 |       render(<MultiviewerApp />)
      57 |       
    > 58 |       expect(screen.getByRole('button', { name: /theme/i })).toBeInTheDocument()
         |                     ^
      59 |     })
      60 |   })
      61 |

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/integration/multiviewer.test.tsx:58:21)

  ● MultiviewerApp Integration › Widget Management › adds YouTube widget successfully

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r38»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      66 |
      67 |       // Enter YouTube URL
    > 68 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
         |                               ^
      69 |       await user.type(urlInput, 'https://www.youtube.com/watch?v=dQw4w9WgXcQ')
      70 |
      71 |       // Add the widget

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:68:31)

  ● MultiviewerApp Integration › Widget Management › adds TikTok widget successfully

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r42»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      86 |       render(<MultiviewerApp />)
      87 |
    > 88 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
         |                               ^
      89 |       await user.type(urlInput, 'https://www.tiktok.com/@testuser')
      90 |
      91 |       const addButton = screen.getByText('Add Stream')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:88:31)

  ● MultiviewerApp Integration › Widget Management › adds HLS stream widget successfully

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r4s»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      101 |       render(<MultiviewerApp />)
      102 |
    > 103 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
          |                               ^
      104 |       await user.type(urlInput, 'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8')
      105 |
      106 |       const addButton = screen.getByText('Add Stream')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:103:31)

  ● MultiviewerApp Integration › Widget Management › removes widget successfully

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r5m»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      117 |
      118 |       // Add a widget first
    > 119 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
          |                               ^
      120 |       await user.type(urlInput, 'https://www.youtube.com/watch?v=dQw4w9WgXcQ')
      121 |       
      122 |       const addButton = screen.getByText('Add Stream')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:119:31)

  ● MultiviewerApp Integration › Widget Management › prevents adding more than 10 widgets

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r6g»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      144 |       // Add 10 widgets
      145 |       for (let i = 0; i < 10; i++) {
    > 146 |         const urlInput = screen.getByPlaceholderText(/Enter URL/)
          |                                 ^
      147 |         await user.clear(urlInput)
      148 |         await user.type(urlInput, `https://www.youtube.com/watch?v=test${i}`)
      149 |         

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:146:33)

  ● MultiviewerApp Integration › Dropdown Menu Widgets › adds world time widget from dropdown

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/add widget/i`

    Here are the accessible roles:

      heading:

      Name "Multiviewer":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "":
      [36m<button[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"menu"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mid[39m=[32m"radix-«r7a»"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
      [36m/>[39m

      Name "Add Stream":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Add Map":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Refresh All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
      [36m/>[39m

      Name "Grid Settings":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r7c»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Share Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r7f»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Load Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r7i»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Clear All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdisabled[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      textbox:

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
        [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
        [33mplaceholder[39m=[32m"Title (optional)"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-lg"[39m
      [36m/>[39m

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-sm"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r7a»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      171 |       render(<MultiviewerApp />)
      172 |
    > 173 |       const dropdownButton = screen.getByRole('button', { name: /add widget/i })
          |                                     ^
      174 |       await user.click(dropdownButton)
      175 |
      176 |       const worldTimeOption = screen.getByText('World Time')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/integration/multiviewer.test.tsx:173:37)

  ● MultiviewerApp Integration › Dropdown Menu Widgets › adds website widget from dropdown

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/add widget/i`

    Here are the accessible roles:

      heading:

      Name "Multiviewer":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "":
      [36m<button[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"menu"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mid[39m=[32m"radix-«r84»"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
      [36m/>[39m

      Name "Add Stream":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Add Map":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Refresh All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
      [36m/>[39m

      Name "Grid Settings":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r86»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Share Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r89»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Load Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r8c»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Clear All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdisabled[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      textbox:

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
        [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
        [33mplaceholder[39m=[32m"Title (optional)"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-lg"[39m
      [36m/>[39m

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-sm"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r84»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      186 |       render(<MultiviewerApp />)
      187 |
    > 188 |       const dropdownButton = screen.getByRole('button', { name: /add widget/i })
          |                                     ^
      189 |       await user.click(dropdownButton)
      190 |
      191 |       const websiteOption = screen.getByText('Website Embed')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/integration/multiviewer.test.tsx:188:37)

  ● MultiviewerApp Integration › Dropdown Menu Widgets › adds notes widget from dropdown

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/add widget/i`

    Here are the accessible roles:

      heading:

      Name "Multiviewer":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "":
      [36m<button[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"menu"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mid[39m=[32m"radix-«r8u»"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
      [36m/>[39m

      Name "Add Stream":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Add Map":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Refresh All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
      [36m/>[39m

      Name "Grid Settings":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r90»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Share Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r93»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Load Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«r96»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Clear All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdisabled[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      textbox:

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
        [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
        [33mplaceholder[39m=[32m"Title (optional)"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-lg"[39m
      [36m/>[39m

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-sm"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«r8u»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      211 |       render(<MultiviewerApp />)
      212 |
    > 213 |       const dropdownButton = screen.getByRole('button', { name: /add widget/i })
          |                                     ^
      214 |       await user.click(dropdownButton)
      215 |
      216 |       const notesOption = screen.getByText('Notes')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/integration/multiviewer.test.tsx:213:37)

  ● MultiviewerApp Integration › Layout Management › generates shareable layout URL

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«rai»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      247 |
      248 |       // Add a widget first
    > 249 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
          |                               ^
      250 |       await user.type(urlInput, 'https://www.youtube.com/watch?v=dQw4w9WgXcQ')
      251 |       
      252 |       const addButton = screen.getByText('Add Stream')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:249:31)

  ● MultiviewerApp Integration › Layout Management › loads layout from URL parameter

    TypeError: Cannot redefine property: location
        at Function.defineProperty (<anonymous>)

      269 |     it('loads layout from URL parameter', () => {
      270 |       // Mock URL with layout parameter
    > 271 |       Object.defineProperty(window, 'location', {
          |              ^
      272 |         value: {
      273 |           search: '?layout=eyJ3aWRnZXRzIjpbXSwidmVyc2lvbiI6IjEuMCJ9',
      274 |         },

      at Object.defineProperty (__tests__/integration/multiviewer.test.tsx:271:14)

  ● MultiviewerApp Integration › Layout Management › clears all widgets

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«rbc»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      287 |
      288 |       // Add some widgets first
    > 289 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
          |                               ^
      290 |       await user.type(urlInput, 'https://www.youtube.com/watch?v=dQw4w9WgXcQ')
      291 |       
      292 |       const addButton = screen.getByText('Add Stream')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:289:31)

  ● MultiviewerApp Integration › Layout Management › refreshes all widgets

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«rc6»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      311 |
      312 |       // Add some widgets first
    > 313 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
          |                               ^
      314 |       await user.type(urlInput, 'https://www.youtube.com/watch?v=dQw4w9WgXcQ')
      315 |       
      316 |       const addButton = screen.getByText('Add Stream')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:313:31)

  ● MultiviewerApp Integration › Theme Toggle › toggles between light and dark theme

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/theme/i`

    Here are the accessible roles:

      heading:

      Name "Multiviewer":
      [36m<h1[39m
        [33mclass[39m=[32m"text-2xl font-bold"[39m
      [36m/>[39m

      --------------------------------------------------
      button:

      Name "":
      [36m<button[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"menu"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mid[39m=[32m"radix-«rd0»"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
      [36m/>[39m

      Name "Add Stream":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Add Map":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"[39m
      [36m/>[39m

      Name "Refresh All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
      [36m/>[39m

      Name "Grid Settings":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«rd2»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Share Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«rd5»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mdisabled[39m=[32m""[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Load Layout":
      [36m<button[39m
        [33maria-controls[39m=[32m"radix-«rd8»"[39m
        [33maria-expanded[39m=[32m"false"[39m
        [33maria-haspopup[39m=[32m"dialog"[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdata-state[39m=[32m"closed"[39m
        [33mtype[39m=[32m"button"[39m
      [36m/>[39m

      Name "Clear All":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
        [33mdisabled[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      textbox:

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
        [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      Name "":
      [36m<input[39m
        [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
        [33mplaceholder[39m=[32m"Title (optional)"[39m
        [33mvalue[39m=[32m""[39m
      [36m/>[39m

      --------------------------------------------------
      paragraph:

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-lg"[39m
      [36m/>[39m

      Name "":
      [36m<p[39m
        [33mclass[39m=[32m"text-sm"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«rd0»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      335 |       render(<MultiviewerApp />)
      336 |
    > 337 |       const themeButton = screen.getByRole('button', { name: /theme/i })
          |                                  ^
      338 |       
      339 |       // Should start with light theme (showing moon icon)
      340 |       await user.click(themeButton)

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/integration/multiviewer.test.tsx:337:34)

  ● MultiviewerApp Integration › Local Storage Persistence › saves widgets to localStorage

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«rdq»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      353 |       render(<MultiviewerApp />)
      354 |
    > 355 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
          |                               ^
      356 |       await user.type(urlInput, 'https://www.youtube.com/watch?v=dQw4w9WgXcQ')
      357 |       
      358 |       const addButton = screen.getByText('Add Stream')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:355:31)

  ● MultiviewerApp Integration › Error Handling › handles invalid URLs gracefully

    TestingLibraryElementError: Unable to find an element with the placeholder text of: /Enter URL/

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"min-h-screen transition-colors duration-200 bg-gray-50 text-gray-900"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-b transition-colors duration-200 border-gray-200 bg-white"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"container mx-auto px-4 py-4"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex items-center justify-between"[39m
              [36m>[39m
                [36m<h1[39m
                  [33mclass[39m=[32m"text-2xl font-bold"[39m
                [36m>[39m
                  [0mMultiviewer[0m
                [36m</h1>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex items-center gap-2"[39m
                [36m>[39m
                  [36m<button[39m
                    [33maria-expanded[39m=[32m"false"[39m
                    [33maria-haspopup[39m=[32m"menu"[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                    [33mdata-state[39m=[32m"closed"[39m
                    [33mid[39m=[32m"radix-«rfe»"[39m
                    [33mtype[39m=[32m"button"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-plus h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M5 12h14"[39m
                      [36m/>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 5v14"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                  [36m<button[39m
                    [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full"[39m
                  [36m>[39m
                    [36m<svg[39m
                      [33mclass[39m=[32m"lucide lucide-moon h-5 w-5"[39m
                      [33mfill[39m=[32m"none"[39m
                      [33mheight[39m=[32m"24"[39m
                      [33mstroke[39m=[32m"currentColor"[39m
                      [33mstroke-linecap[39m=[32m"round"[39m
                      [33mstroke-linejoin[39m=[32m"round"[39m
                      [33mstroke-width[39m=[32m"2"[39m
                      [33mviewBox[39m=[32m"0 0 24 24"[39m
                      [33mwidth[39m=[32m"24"[39m
                      [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                    [36m>[39m
                      [36m<path[39m
                        [33md[39m=[32m"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"[39m
                      [36m/>[39m
                    [36m</svg>[39m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"flex gap-2 mb-2"[39m
              [36m>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm flex-1"[39m
                  [33mplaceholder[39m=[32m"Enter any URL or use + for widgets"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<input[39m
                  [33mclass[39m=[32m"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm max-w-[200px]"[39m
                  [33mplaceholder[39m=[32m"Title (optional)"[39m
                  [33mvalue[39m=[32m""[39m
                [36m/>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-plus h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mAdd Stream[0m
                [36m</button>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-vi...

      388 |       render(<MultiviewerApp />)
      389 |
    > 390 |       const urlInput = screen.getByPlaceholderText(/Enter URL/)
          |                               ^
      391 |       await user.type(urlInput, 'invalid-url')
      392 |       
      393 |       const addButton = screen.getByText('Add Stream')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByPlaceholderText (__tests__/integration/multiviewer.test.tsx:390:31)

  ● MultiviewerApp Integration › Error Handling › handles localStorage errors gracefully

    expect(received).not.toThrow()

    Error name:    "Error"
    Error message: "localStorage error"

          402 |     it('handles localStorage errors gracefully', () => {
          403 |       localStorage.getItem = jest.fn().mockImplementation(() => {
        > 404 |         throw new Error('localStorage error')
              |               ^
          405 |       })
          406 |
          407 |       expect(() => render(<MultiviewerApp />)).not.toThrow()

      at Object.<anonymous> (__tests__/integration/multiviewer.test.tsx:404:15)
      at getItem (app/page.tsx:117:41)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13957:11)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13834:11)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at flushPendingEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15702:14)
      at performSyncWorkOnRoot (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16228:11)
      at flushSyncWorkAcrossRoots_impl (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16079:21)
      at flushSpawnedWork (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15677:9)
      at commitRoot (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15403:9)
      at performWorkOnRoot (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
      at performWorkOnRootViaSchedulerTask (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at __tests__/integration/multiviewer.test.tsx:407:26
      at Object.<anonymous> (node_modules/.pnpm/expect@30.0.0/node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/.pnpm/expect@30.0.0/node_modules/expect/build/index.js:2231:93)
      at Object.toThrow (__tests__/integration/multiviewer.test.tsx:407:52)
      at Object.toThrow (__tests__/integration/multiviewer.test.tsx:407:52)

FAIL __tests__/components/notes-widget.test.tsx
  NotesWidget
    ✓ renders notes widget with correct title (44 ms)
    ✓ displays initial content in textarea (7 ms)
    ✕ calls onRemove when remove button is clicked (44 ms)
    ✕ calls onContentChange when content is modified (279 ms)
    ✓ shows save button when content has unsaved changes (138 ms)
    ✓ shows unsaved changes indicator (70 ms)
    ✓ saves content when save button is clicked (171 ms)
    ✓ saves content with Ctrl+S keyboard shortcut (104 ms)
    ✓ shows save instruction when there are unsaved changes (87 ms)
    ✓ renders with dark theme correctly (13 ms)
    ✓ renders with light theme correctly (4 ms)
    ✕ shows file text icon in header (42 ms)
    ✓ handles empty content (6 ms)
    ✓ handles long content (5 ms)
    ✕ preserves line breaks in content (8 ms)
    ✓ focuses textarea when clicked (19 ms)
    ✕ allows text selection and editing (145 ms)
    ✕ handles special characters in content (22 ms)

  ● NotesWidget › calls onRemove when remove button is clicked

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/remove/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      textbox:

      Name "":
      [36m<textarea[39m
        [33mclass[39m=[32m"flex min-h-[80px] rounded-md border-input px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full h-full resize-none border-0 focus:ring-0 focus:border-0 bg-white text-gray-900 placeholder-gray-500"[39m
        [33mplaceholder[39m=[32m"Enter your notes here... (Ctrl+S to save)"[39m
        [33mstyle[39m=[32m"outline: none; box-shadow: none;"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-file-text h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M10 9H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 13H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 17H8"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mMy Notes[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex min-h-[80px] rounded-md border-input px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full h-full resize-none border-0 focus:ring-0 focus:border-0 bg-white text-gray-900 placeholder-gray-500"[39m
              [33mplaceholder[39m=[32m"Enter your notes here... (Ctrl+S to save)"[39m
              [33mstyle[39m=[32m"outline: none; box-shadow: none;"[39m
            [36m>[39m
              [0mInitial content[0m
            [36m</textarea>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      36 |     render(<NotesWidget {...defaultProps} />)
      37 |     
    > 38 |     const removeButton = screen.getByRole('button', { name: /remove/i })
         |                                 ^
      39 |     await user.click(removeButton)
      40 |     
      41 |     expect(mockOnRemove).toHaveBeenCalled()

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/notes-widget.test.tsx:38:33)

  ● NotesWidget › calls onContentChange when content is modified

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "New content"

    Number of calls: 0

      50 |     await user.type(textarea, 'New content')
      51 |     
    > 52 |     expect(mockOnContentChange).toHaveBeenCalledWith('New content')
         |                                 ^
      53 |   })
      54 |
      55 |   it('shows save button when content has unsaved changes', async () => {

      at Object.toHaveBeenCalledWith (__tests__/components/notes-widget.test.tsx:52:33)

  ● NotesWidget › shows file text icon in header

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/remove/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------
      textbox:

      Name "":
      [36m<textarea[39m
        [33mclass[39m=[32m"flex min-h-[80px] rounded-md border-input px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full h-full resize-none border-0 focus:ring-0 focus:border-0 bg-white text-gray-900 placeholder-gray-500"[39m
        [33mplaceholder[39m=[32m"Enter your notes here... (Ctrl+S to save)"[39m
        [33mstyle[39m=[32m"outline: none; box-shadow: none;"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-file-text h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M10 9H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 13H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 17H8"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mMy Notes[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex min-h-[80px] rounded-md border-input px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full h-full resize-none border-0 focus:ring-0 focus:border-0 bg-white text-gray-900 placeholder-gray-500"[39m
              [33mplaceholder[39m=[32m"Enter your notes here... (Ctrl+S to save)"[39m
              [33mstyle[39m=[32m"outline: none; box-shadow: none;"[39m
            [36m>[39m
              [0mInitial content[0m
            [36m</textarea>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      140 |     
      141 |     // FileText icon should be present
    > 142 |     expect(screen.getByRole('button', { name: /remove/i })).toBeInTheDocument()
          |                   ^
      143 |   })
      144 |
      145 |   it('handles empty content', () => {

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/notes-widget.test.tsx:142:19)

  ● NotesWidget › preserves line breaks in content

    TestingLibraryElementError: Unable to find an element with the display value: Line 1
    Line 2
    Line 3.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<svg[39m
                [33mclass[39m=[32m"lucide lucide-file-text h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M10 9H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 13H8"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M16 17H8"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate text-gray-900"[39m
              [36m>[39m
                [0mMy Notes[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<textarea[39m
              [33mclass[39m=[32m"flex min-h-[80px] rounded-md border-input px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full h-full resize-none border-0 focus:ring-0 focus:border-0 bg-white text-gray-900 placeholder-gray-500"[39m
              [33mplaceholder[39m=[32m"Enter your notes here... (Ctrl+S to save)"[39m
              [33mstyle[39m=[32m"outline: none; box-shadow: none;"[39m
            [36m>[39m
              [0mLine 1
    Line 2
    Line 3[0m
            [36m</textarea>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      162 |     render(<NotesWidget {...defaultProps} content={multilineContent} />)
      163 |     
    > 164 |     const textarea = screen.getByDisplayValue(multilineContent)
          |                             ^
      165 |     expect(textarea).toBeInTheDocument()
      166 |   })
      167 |

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByDisplayValue (__tests__/components/notes-widget.test.tsx:164:29)

  ● NotesWidget › allows text selection and editing

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "Replaced content"

    Number of calls: 0

      185 |     await user.type(textarea, 'Replaced content')
      186 |     
    > 187 |     expect(mockOnContentChange).toHaveBeenCalledWith('Replaced content')
          |                                 ^
      188 |   })
      189 |
      190 |   it('handles special characters in content', async () => {

      at Object.toHaveBeenCalledWith (__tests__/components/notes-widget.test.tsx:187:33)

  ● NotesWidget › handles special characters in content

    Expected key descriptor but found "}" in "{}|:"<>?[]\;',./"
        See https://testing-library.com/docs/user-event/keyboard
        for more information about how userEvent parses your input.

      195 |     
      196 |     const textarea = screen.getByRole('textbox')
    > 197 |     await user.type(textarea, specialContent)
          |     ^
      198 |     
      199 |     expect(mockOnContentChange).toHaveBeenCalledWith(specialContent)
      200 |   })

      at assertDescriptor (node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:75:15)
      at readTag (node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:48:5)
      at Object.readNextDescriptor (node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/cjs/utils/keyDef/readNextDescriptor.js:26:66)
      at Object.parseKeyDef (node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/cjs/keyboard/parseKeyDef.js:18:118)
      at Object.keyboard (node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/cjs/keyboard/index.js:8:33)
      at Object.type (node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/cjs/utility/type.js:17:16)
      at Object.asyncWrapper (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:88:22)
      at Object.<anonymous> (__tests__/components/notes-widget.test.tsx:197:5)

FAIL __tests__/components/stream-widget.test.tsx
  StreamWidget
    YouTube Widget
      ✓ renders YouTube widget with correct title (54 ms)
      ✕ renders YouTube iframe with correct src (20 ms)
      ✕ calls onRemove when remove button is clicked (97 ms)
      ✕ opens external link when external button is clicked (85 ms)
    TikTok Widget
      ✓ renders TikTok widget with correct title (19 ms)
      ✓ shows popup button for TikTok streams (17 ms)
      ✓ opens popup when popup button is clicked (46 ms)
    Traffic Camera Widget
      ✓ renders traffic camera widget with correct title (17 ms)
      ✕ shows refresh indicator for traffic cameras (16 ms)
      ✕ refreshes content when refresh button is clicked (72 ms)
    Theme Support
      ✓ renders with dark theme correctly (24 ms)
      ✓ renders with light theme correctly (33 ms)
    Error Handling
      ✓ shows error state when embed fails (17 ms)
    Widget Controls
      ✕ shows all control buttons (88 ms)
      ✕ shows popup button for TikTok widgets (80 ms)

  ● StreamWidget › YouTube Widget › renders YouTube iframe with correct src

    TestingLibraryElementError: Unable to find an element by: [data-testid="youtube-iframe"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 rounded-full bg-red-500"[39m
              [36m/>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate"[39m
              [36m>[39m
                [0mTest YouTube Video[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 3v5h-5"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M8 16H3v5"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-external-link h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 3h6v6"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M10 14 21 3"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-maximize2 h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"15 3 21 3 21 9"[39m
                  [36m/>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"9 21 3 21 3 15"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"21"[39m
                    [33mx2[39m=[32m"14"[39m
                    [33my1[39m=[32m"3"[39m
                    [33my2[39m=[32m"10"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"3"[39m
                    [33mx2[39m=[32m"10"[39m
                    [33my1[39m=[32m"21"[39m
                    [33my2[39m=[32m"14"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<iframe[39m
              [33mallow[39m=[32m"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"[39m
              [33mallowfullscreen[39m=[32m""[39m
              [33mclass[39m=[32m"w-full h-full border-0 rounded-md"[39m
              [33msrc[39m=[32m"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=0&mute=1"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      42 |       render(<StreamWidget widget={mockYouTubeWidget} onRemove={mockOnRemove} theme="light" />)
      43 |       
    > 44 |       const iframe = screen.getByTestId('youtube-iframe') || 
         |                             ^
      45 |                     screen.getByTitle(/youtube/i) ||
      46 |                     document.querySelector('iframe[src*="youtube.com"]')
      47 |       

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByTestId (__tests__/components/stream-widget.test.tsx:44:29)

  ● StreamWidget › YouTube Widget › calls onRemove when remove button is clicked

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/remove/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 rounded-full bg-red-500"[39m
              [36m/>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate"[39m
              [36m>[39m
                [0mTest YouTube Video[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 3v5h-5"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M8 16H3v5"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-external-link h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 3h6v6"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M10 14 21 3"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-maximize2 h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"15 3 21 3 21 9"[39m
                  [36m/>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"9 21 3 21 3 15"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"21"[39m
                    [33mx2[39m=[32m"14"[39m
                    [33my1[39m=[32m"3"[39m
                    [33my2[39m=[32m"10"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"3"[39m
                    [33mx2[39m=[32m"10"[39m
                    [33my1[39m=[32m"21"[39m
                    [33my2[39m=[32m"14"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<iframe[39m
              [33mallow[39m=[32m"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"[39m
              [33mallowfullscreen[39m=[32m""[39m
              [33mclass[39m=[32m"w-full h-full border-0 rounded-md"[39m
              [33msrc[39m=[32m"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=0&mute=1"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      53 |       render(<StreamWidget widget={mockYouTubeWidget} onRemove={mockOnRemove} theme="light" />)
      54 |       
    > 55 |       const removeButton = screen.getByRole('button', { name: /remove/i })
         |                                   ^
      56 |       await user.click(removeButton)
      57 |       
      58 |       expect(mockOnRemove).toHaveBeenCalled()

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/stream-widget.test.tsx:55:35)

  ● StreamWidget › YouTube Widget › opens external link when external button is clicked

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/external/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 rounded-full bg-red-500"[39m
              [36m/>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate"[39m
              [36m>[39m
                [0mTest YouTube Video[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 3v5h-5"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M8 16H3v5"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-external-link h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 3h6v6"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M10 14 21 3"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-maximize2 h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"15 3 21 3 21 9"[39m
                  [36m/>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"9 21 3 21 3 15"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"21"[39m
                    [33mx2[39m=[32m"14"[39m
                    [33my1[39m=[32m"3"[39m
                    [33my2[39m=[32m"10"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"3"[39m
                    [33mx2[39m=[32m"10"[39m
                    [33my1[39m=[32m"21"[39m
                    [33my2[39m=[32m"14"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<iframe[39m
              [33mallow[39m=[32m"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"[39m
              [33mallowfullscreen[39m=[32m""[39m
              [33mclass[39m=[32m"w-full h-full border-0 rounded-md"[39m
              [33msrc[39m=[32m"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=0&mute=1"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      63 |       render(<StreamWidget widget={mockYouTubeWidget} onRemove={mockOnRemove} theme="light" />)
      64 |       
    > 65 |       const externalButton = screen.getByRole('button', { name: /external/i })
         |                                     ^
      66 |       await user.click(externalButton)
      67 |       
      68 |       expect(window.open).toHaveBeenCalledWith(mockYouTubeWidget.url, '_blank')

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/stream-widget.test.tsx:65:37)

  ● StreamWidget › Traffic Camera Widget › shows refresh indicator for traffic cameras

    TestingLibraryElementError: Unable to find an element with the text: /Refreshes every 20s/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 rounded-full bg-blue-500"[39m
              [36m/>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate"[39m
              [36m>[39m
                [0mTraffic Camera[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 3v5h-5"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M8 16H3v5"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-external-link h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 3h6v6"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M10 14 21 3"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-maximize2 h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"15 3 21 3 21 9"[39m
                  [36m/>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"9 21 3 21 3 15"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"21"[39m
                    [33mx2[39m=[32m"14"[39m
                    [33my1[39m=[32m"3"[39m
                    [33my2[39m=[32m"10"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"3"[39m
                    [33mx2[39m=[32m"10"[39m
                    [33my1[39m=[32m"21"[39m
                    [33my2[39m=[32m"14"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<iframe[39m
              [33mclass[39m=[32m"w-full h-full border-0 rounded-md"[39m
              [33msrc[39m=[32m"https://trafficwatchni.com/cctvpublic/CameraViewer.aspx?CameraID=1"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      105 |       render(<StreamWidget widget={mockTrafficWidget} onRemove={mockOnRemove} theme="light" />)
      106 |       
    > 107 |       expect(screen.getByText(/Refreshes every 20s/)).toBeInTheDocument()
          |                     ^
      108 |     })
      109 |
      110 |     it('refreshes content when refresh button is clicked', async () => {

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (__tests__/components/stream-widget.test.tsx:107:21)

  ● StreamWidget › Traffic Camera Widget › refreshes content when refresh button is clicked

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/refresh/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 rounded-full bg-blue-500"[39m
              [36m/>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate"[39m
              [36m>[39m
                [0mTraffic Camera[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 3v5h-5"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M8 16H3v5"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-external-link h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 3h6v6"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M10 14 21 3"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-maximize2 h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"15 3 21 3 21 9"[39m
                  [36m/>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"9 21 3 21 3 15"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"21"[39m
                    [33mx2[39m=[32m"14"[39m
                    [33my1[39m=[32m"3"[39m
                    [33my2[39m=[32m"10"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"3"[39m
                    [33mx2[39m=[32m"10"[39m
                    [33my1[39m=[32m"21"[39m
                    [33my2[39m=[32m"14"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<iframe[39m
              [33mclass[39m=[32m"w-full h-full border-0 rounded-md"[39m
              [33msrc[39m=[32m"https://trafficwatchni.com/cctvpublic/CameraViewer.aspx?CameraID=1"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      112 |       render(<StreamWidget widget={mockTrafficWidget} onRemove={mockOnRemove} theme="light" />)
      113 |       
    > 114 |       const refreshButton = screen.getByRole('button', { name: /refresh/i })
          |                                    ^
      115 |       await user.click(refreshButton)
      116 |       
      117 |       // The refresh should update the timestamp in the URL

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/stream-widget.test.tsx:114:36)

  ● StreamWidget › Widget Controls › shows all control buttons

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/refresh/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 rounded-full bg-red-500"[39m
              [36m/>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate"[39m
              [36m>[39m
                [0mTest YouTube Video[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 3v5h-5"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M8 16H3v5"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-external-link h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 3h6v6"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M10 14 21 3"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-maximize2 h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"15 3 21 3 21 9"[39m
                  [36m/>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"9 21 3 21 3 15"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"21"[39m
                    [33mx2[39m=[32m"14"[39m
                    [33my1[39m=[32m"3"[39m
                    [33my2[39m=[32m"10"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"3"[39m
                    [33mx2[39m=[32m"10"[39m
                    [33my1[39m=[32m"21"[39m
                    [33my2[39m=[32m"14"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<iframe[39m
              [33mallow[39m=[32m"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"[39m
              [33mallowfullscreen[39m=[32m""[39m
              [33mclass[39m=[32m"w-full h-full border-0 rounded-md"[39m
              [33msrc[39m=[32m"https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=0&mute=1"[39m
            [36m/>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      164 |       render(<StreamWidget widget={mockYouTubeWidget} onRemove={mockOnRemove} theme="light" />)
      165 |       
    > 166 |       expect(screen.getByRole('button', { name: /refresh/i })).toBeInTheDocument()
          |                     ^
      167 |       expect(screen.getByRole('button', { name: /external/i })).toBeInTheDocument()
      168 |       expect(screen.getByRole('button', { name: /remove/i })).toBeInTheDocument()
      169 |     })

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/stream-widget.test.tsx:166:21)

  ● StreamWidget › Widget Controls › shows popup button for TikTok widgets

    TestingLibraryElementError: Unable to find an accessible element with the role "button" and name `/popup/i`

    Here are the accessible roles:

      button:

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
      [36m/>[39m

      Name "Open Full Stream":
      [36m<button[39m
        [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
      [36m/>[39m

      --------------------------------------------------
      link:

      Name "":
      [36m<a[39m
        [33mdata-iframely-url[39m=[32m"//iframely.net/koAWje4h?card=small"[39m
        [33mhref[39m=[32m"https://www.tiktok.com/@testuser/live"[39m
      [36m/>[39m

      --------------------------------------------------

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"rounded-lg border text-card-foreground shadow-sm relative h-96 bg-white border-gray-200"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-1.5 flex flex-row items-center justify-between p-3"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center gap-2 min-w-0"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-2 h-2 rounded-full bg-gray-400"[39m
              [36m/>[39m
              [36m<span[39m
                [33mclass[39m=[32m"font-medium truncate"[39m
              [36m>[39m
                [0mtestuser[0m
              [36m</span>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex gap-1"[39m
            [36m>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-refresh-cw h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 3v5h-5"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M8 16H3v5"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-external-link h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M15 3h6v6"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M10 14 21 3"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-maximize2 h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"15 3 21 3 21 9"[39m
                  [36m/>[39m
                  [36m<polyline[39m
                    [33mpoints[39m=[32m"9 21 3 21 3 15"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"21"[39m
                    [33mx2[39m=[32m"14"[39m
                    [33my1[39m=[32m"3"[39m
                    [33my2[39m=[32m"10"[39m
                  [36m/>[39m
                  [36m<line[39m
                    [33mx1[39m=[32m"3"[39m
                    [33mx2[39m=[32m"10"[39m
                    [33my1[39m=[32m"21"[39m
                    [33my2[39m=[32m"14"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
              [36m<button[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-8 w-8"[39m
              [36m>[39m
                [36m<svg[39m
                  [33mclass[39m=[32m"lucide lucide-x h-4 w-4"[39m
                  [33mfill[39m=[32m"none"[39m
                  [33mheight[39m=[32m"24"[39m
                  [33mstroke[39m=[32m"currentColor"[39m
                  [33mstroke-linecap[39m=[32m"round"[39m
                  [33mstroke-linejoin[39m=[32m"round"[39m
                  [33mstroke-width[39m=[32m"2"[39m
                  [33mviewBox[39m=[32m"0 0 24 24"[39m
                  [33mwidth[39m=[32m"24"[39m
                  [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                [36m>[39m
                  [36m<path[39m
                    [33md[39m=[32m"M18 6 6 18"[39m
                  [36m/>[39m
                  [36m<path[39m
                    [33md[39m=[32m"m6 6 12 12"[39m
                  [36m/>[39m
                [36m</svg>[39m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 h-80"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"w-full h-full flex flex-col items-center justify-center p-4 bg-white"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"w-full max-w-sm"[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"iframely-embed"[39m
                  [33mstyle[39m=[32m"filter: none; border-radius: 8px; overflow: hidden;"[39m
                [36m>[39m
                  [0m
                      [0m
                  [36m<div[39m
                    [33mclass[39m=[32m"iframely-responsive"[39m
                    [33mstyle[39m=[32m"height: 280px; padding-bottom: 0;"[39m
                  [36m>[39m
                    [0m
                        [0m
                    [36m<a[39m
                      [33mdata-iframely-url[39m=[32m"//iframely.net/koAWje4h?card=small"[39m
                      [33mhref[39m=[32m"https://www.tiktok.com/@testuser/live"[39m
                    [36m/>[39m
                    [0m
                      [0m
                  [36m</div>[39m
                  [0m
                    [0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"mt-4 text-center"[39m
              [36m>[39m
                [36m<button[39m
                  [33mclass[39m=[32m"inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33mclass[39m=[32m"lucide lucide-maximize2 h-4 w-4 mr-2"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"24"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"24"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<polyline[39m
                      [33mpoints[39m=[32m"15 3 21 3 21 9"[39m
                    [36m/>[39m
                    [36m<polyline[39m
                      [33mpoints[39m=[32m"9 21 3 21 3 15"[39m
                    [36m/>[39m
                    [36m<line[39m
                      [33mx1[39m=[32m"21"[39m
                      [33mx2[39m=[32m"14"[39m
                      [33my1[39m=[32m"3"[39m
                      [33my2[39m=[32m"10"[39m
                    [36m/>[39m
                    [36m<line[39m
                      [33mx1[39m=[32m"3"[39m
                      [33mx2[39m=[32m"10"[39m
                      [33my1[39m=[32m"21"[39m
                      [33my2[39m=[32m"14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                  [0mOpen Full Stream[0m
                [36m</button>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      172 |       render(<StreamWidget widget={mockTikTokWidget} onRemove={mockOnRemove} theme="light" />)
      173 |       
    > 174 |       expect(screen.getByRole('button', { name: /popup/i })).toBeInTheDocument()
          |                     ^
      175 |     })
      176 |   })
      177 | })

      at Object.getElementError (node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByRole (__tests__/components/stream-widget.test.tsx:174:21)

  console.log
    DASH.js loaded

      at log (app/components/video-stream-widget.tsx:19:13)

FAIL __tests__/components/video-stream-widget.test.tsx
  VideoStreamWidget
    ✕ renders stream widget with correct title (48 ms)
    ✕ calls onRemove when remove button is clicked (9 ms)
    ✕ shows refresh button and external link button (6 ms)
    ✕ opens external link when external button is clicked (6 ms)
    ✕ renders with dark theme correctly (6 ms)
    ✕ handles DASH stream type (15 ms)
    ✕ handles MP4 stream type (9 ms)
    ✕ shows error state when video fails to load (10 ms)
    ✕ provides helpful error messages for different error codes (7 ms)
    ✕ shows test streams in error state (9 ms)

  ● VideoStreamWidget › renders stream widget with correct title

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:22:11)

  ● VideoStreamWidget › calls onRemove when remove button is clicked

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:30:11)

  ● VideoStreamWidget › shows refresh button and external link button

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:39:11)

  ● VideoStreamWidget › opens external link when external button is clicked

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:47:11)

  ● VideoStreamWidget › renders with dark theme correctly

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:56:33)

  ● VideoStreamWidget › handles DASH stream type

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:71:11)

  ● VideoStreamWidget › handles MP4 stream type

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:85:11)

  ● VideoStreamWidget › shows error state when video fails to load

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:107:11)

  ● VideoStreamWidget › provides helpful error messages for different error codes

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:129:11)

  ● VideoStreamWidget › shows test streams in error state

    TypeError: Cannot read properties of undefined (reading 'IS_SAFARI')

      120 |           html5: {
      121 |             vhs: {
    > 122 |               overrideNative: !videojs.browser.IS_SAFARI,
          |                                                ^
      123 |               enableLowInitialPlaylist: true,
      124 |               smoothQualityChange: true,
      125 |               allowSeeksWithinUnsafeLiveWindow: true,

      at IS_SAFARI (app/components/video-stream-widget.tsx:122:48)
      at Object.react-stack-bottom-frame (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:23949:20)
      at runWithFiberInDEV (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitHookEffectListMount (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:11905:29)
      at commitHookPassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:12028:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13841:13)
      at recursivelyTraversePassiveMountEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13815:11)
      at commitPassiveMountOnFiber (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:13853:11)
      at flushPassiveEffects (node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15737:9)
      at node_modules/.pnpm/react-dom@19.1.0_react@19.1.0/node_modules/react-dom/cjs/react-dom-client.development.js:15379:15
      at flushActQueue (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/.pnpm/react@19.1.0/node_modules/react/cjs/react.development.js:859:10)
      at node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.6_@type_a7b711c25dfb1fc34b8999e00374067f/node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (__tests__/components/video-stream-widget.test.tsx:151:11)

FAIL __tests__/components/map-widget.test.tsx
  MapWidget
    ✕ renders map widget with correct title (1 ms)
    ✕ calls onRemove when remove button is clicked
    ✕ shows loading state initially (1 ms)
    ✕ initializes map after component mounts
    ✕ gets user location and sets up map
    ✕ handles geolocation error gracefully
    ✕ renders with dark theme correctly
    ✕ renders with light theme correctly (1 ms)
    ✕ creates map container with correct ID (1 ms)
    ✕ handles multiple map widgets with different IDs
    ✕ shows map icon in header
    ✕ handles no geolocation support (1 ms)

  ● MapWidget › renders map widget with correct title

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › calls onRemove when remove button is clicked

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › shows loading state initially

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › initializes map after component mounts

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › gets user location and sets up map

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › handles geolocation error gracefully

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › renders with dark theme correctly

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › renders with light theme correctly

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › creates map container with correct ID

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › handles multiple map widgets with different IDs

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › shows map icon in header

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

  ● MapWidget › handles no geolocation support

    TypeError: Cannot redefine property: geolocation
        at Function.defineProperty (<anonymous>)

      43 |       }),
      44 |     }
    > 45 |     Object.defineProperty(navigator, 'geolocation', {
         |            ^
      46 |       value: mockGeolocation,
      47 |       configurable: true,
      48 |     })

      at Object.defineProperty (__tests__/components/map-widget.test.tsx:45:12)

FAIL __tests__/utils/popup-manager.test.ts
  PopupManager
    Singleton Pattern
      ✓ should return the same instance (2 ms)
    Popup Management
      ✕ should open a popup (4 ms)
      ✓ should track open popups (15 ms)
      ✓ should close a specific popup (1 ms)
      ✓ should close all popups (1 ms)
      ✓ should focus existing popup if already open
      ✓ should get list of open popup IDs (1 ms)
    Grid Settings
      ✓ should set grid dimensions (1 ms)

  ● PopupManager › Popup Management › should open a popup

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "https://example.com", "popup-test-id", StringContaining "width=800"
    Received: "https://example.com", "popup_test-id", "width=-15,height=-15,left=10,top=10,resizable=yes,scrollbars=yes,status=yes"

    Number of calls: 1

      30 |       popupManager.openPopup('test-id', 'https://example.com', 'Test Title', 'youtube')
      31 |
    > 32 |       expect(window.open).toHaveBeenCalledWith(
         |                           ^
      33 |         'https://example.com',
      34 |         'popup-test-id',
      35 |         expect.stringContaining('width=800')

      at Object.toHaveBeenCalledWith (__tests__/utils/popup-manager.test.ts:32:27)

Test Suites: 7 failed, 7 total
Tests:       65 failed, 37 passed, 102 total
Snapshots:   0 total
Time:        13.633 s, estimated 15 s
Ran all test suites.
